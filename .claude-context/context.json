{
  "company": {
    "name": "C-Space",
    "purpose": "We create the right environment so that the right people feel empowered",
    "bhag": "1,200 Partnerships by December 2040",
    "strategy": "Vertical Integration",
    "xFactor": "6-Day Decision (10x faster than industry)",
    "coreValues": ["Do The Right Thing", "All In", "Innovate", "Radical Transparency", "Architects Not Firefighters"],
    "brandPromises": ["Hotel Quality Hospitality", "Right Community", "Location Roaming"],
    "guarantees": ["3-Day Request Resolution", "1-Hour Contract", "50% Off Meeting Rooms", "30-Day Exit"],
    "strategyDoc": "../../docs/COMPANY_STRATEGY.md"
  },
  "project": {
    "name": "C-Space HR",
    "description": "HR management system for C-Space coworking spaces",
    "productionUrl": "https://hr.cspace.uz",
    "repository": "https://github.com/zukhriddin2012/c-space-hr",
    "lastUpdated": "2026-01-31"
  },
  "techStack": {
    "framework": "Next.js 16 (App Router)",
    "language": "TypeScript",
    "styling": "Tailwind CSS 4",
    "database": "Supabase (PostgreSQL)",
    "hosting": "Vercel",
    "auth": "Custom session-based",
    "testing": "Vitest + React Testing Library + MSW"
  },
  "keyPaths": {
    "pages": "src/app/(dashboard)/",
    "api": "src/app/api/",
    "components": "src/components/",
    "componentFolders": {
      "employee": "src/components/employee/",
      "recruitment": "src/components/recruitment/",
      "attendance": "src/components/attendance/",
      "branch": "src/components/branch/",
      "layout": "src/components/layout/",
      "ui": "src/components/ui/",
      "profile": "src/components/profile/",
      "auth": "src/components/auth/"
    },
    "database": "src/lib/db/",
    "databaseModules": [
      "connection.ts",
      "employees.ts",
      "branches.ts",
      "attendance.ts",
      "leaves.ts",
      "payroll.ts",
      "wages.ts",
      "payments.ts",
      "documents.ts",
      "termination.ts",
      "legal-entities.ts",
      "recruitment.ts",
      "feedback.ts",
      "wage-changes.ts",
      "dashboards.ts",
      "growth.ts",
      "telegram.ts",
      "reminders.ts",
      "departments.ts",
      "positions.ts"
    ],
    "supabase": "src/lib/supabase.ts",
    "auth": "src/lib/auth-server.ts",
    "permissions": "src/lib/permissions.ts",
    "translations": "src/lib/i18n/",
    "migrations": "supabase/migrations/",
    "tests": "src/test/"
  },
  "modules": {
    "employees": {
      "path": "src/app/(dashboard)/employees/",
      "api": "/api/employees",
      "features": ["CRUD", "Filters", "Level badges", "Employment type badges"]
    },
    "attendance": {
      "path": "src/app/(dashboard)/attendance/",
      "api": "/api/attendance/*",
      "features": ["Daily sheet", "Dashboard", "IP/GPS/Remote verification", "Reminders", "Multi-session support"]
    },
    "recruitment": {
      "path": "src/app/(dashboard)/recruitment/",
      "api": "/api/candidates",
      "features": ["Kanban board", "Stage transitions", "Candidate profiles"]
    },
    "accounting": {
      "path": "src/app/(dashboard)/accounting/",
      "api": "/api/accounting/*",
      "features": ["Request workflow", "Approvals", "SLA tracking"]
    },
    "orgChart": {
      "path": "src/app/(dashboard)/org-chart/",
      "api": "/api/org-chart",
      "features": ["Manager hierarchy", "Expandable tree", "Dotted connectors"]
    },
    "branches": {
      "path": "src/app/(dashboard)/branches/",
      "features": ["Geofencing", "IP allowlist", "Budget tracking"]
    }
  },
  "roles": [
    { "name": "super_admin", "level": 1, "description": "Full system access" },
    { "name": "ceo", "level": 2, "description": "Executive access" },
    { "name": "hr", "level": 3, "description": "HR management" },
    { "name": "chief_accountant", "level": 4, "description": "Accounting head" },
    { "name": "accountant", "level": 5, "description": "Accounting staff" },
    { "name": "recruiter", "level": 6, "description": "Recruitment only" },
    { "name": "branch_manager", "level": 7, "description": "Branch-specific" },
    { "name": "legal", "level": 8, "description": "Legal department" },
    { "name": "employee", "level": 9, "description": "Self-service only" }
  ],
  "languages": ["en", "ru", "uz"],
  "database": {
    "tables": {
      "employees": {
        "key": "id",
        "important_columns": ["employee_id", "full_name", "position", "level", "branch_id", "manager_id", "status", "telegram_id", "remote_work_enabled"]
      },
      "attendance": {
        "key": "id",
        "important_columns": ["employee_id", "date", "check_in", "check_out", "verification_type", "status"]
      },
      "branches": {
        "key": "id",
        "important_columns": ["name", "latitude", "longitude", "geofence_radius", "allowed_ips"]
      },
      "candidates": {
        "key": "id",
        "important_columns": ["name", "position_id", "stage", "rating"]
      },
      "positions": {
        "key": "id",
        "important_columns": ["name", "name_uz", "name_ru", "level"]
      },
      "departments": {
        "key": "id",
        "important_columns": ["name", "name_uz", "name_ru"]
      },
      "accounting_requests": {
        "key": "id",
        "important_columns": ["request_number", "request_type", "status", "priority", "amount"]
      }
    }
  },
  "conventions": {
    "components": "PascalCase, .tsx extension, organized in feature folders",
    "componentImports": "Import from feature folders: @/components/employee, @/components/ui, etc.",
    "uiPrimitives": "Use Button, Input, Card, Modal, Select, Badge from @/components/ui",
    "apiRoutes": "route.ts in folder structure, use PATCH for action consolidation",
    "apiNaming": "kebab-case, no abbreviations (telegram-action not tg-action)",
    "translations": "Add to types.ts first, then all 3 language files",
    "database": "Import from @/lib/db (re-exports from modular db/ folder)",
    "auth": "Use getSession() for server, withAuth() for API",
    "testing": "Tests in *.test.ts(x) files, use test-utils for component tests"
  },
  "testing": {
    "framework": "Vitest",
    "libraries": ["@testing-library/react", "@testing-library/jest-dom", "msw"],
    "scripts": {
      "test": "vitest (watch mode)",
      "test:run": "vitest run (single run)",
      "test:coverage": "vitest --coverage",
      "test:ui": "vitest --ui"
    },
    "structure": {
      "setup": "src/test/setup.ts",
      "mocks": "src/test/mocks/handlers.ts",
      "utils": "src/test/utils/test-utils.tsx"
    }
  },
  "currentWork": {
    "recentChanges": [
      "2026-01-29: Remote work check-in feature (remote_work_enabled per employee)",
      "2026-01-29: Remote verification type badge in attendance UI",
      "2026-01-30: Set up Vitest testing infrastructure (28 tests)",
      "2026-01-30: Split db.ts into 20 domain modules in db/ folder",
      "2026-01-30: Flattened deep API routes into PATCH handlers",
      "2026-01-30: Renamed tg-action/tg-check to telegram-action/telegram-check",
      "2026-01-29: Component refactoring - 24 components into 8 feature folders",
      "2026-01-29: Created 6 UI primitives (Button, Input, Card, Modal, Select, Badge)",
      "2026-01-28: Org chart with expandable tree"
    ],
    "pendingTasks": [
      "Language switching fixes (8 sections need translation)",
      "Employee profile editing improvements",
      "Recruitment pipeline filters",
      "Shift notes feature"
    ]
  }
}
